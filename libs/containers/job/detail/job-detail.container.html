<section>
  <ng-container *ngIf="loading$ | async; else dataTpl">
    <div class="mb-6">
      <div class="mb-3">
        <ion-skeleton-text
          [animated]="true"
          class="h-10 w-2/3"
        ></ion-skeleton-text>
      </div>
      <div class="mb-3">
        <ion-skeleton-text
          [animated]="true"
          class="h-8 w-1/2"
        ></ion-skeleton-text>
      </div>
      <div class="mb-3">
        <ion-skeleton-text
          [animated]="true"
          class="h-8 w-1/2"
        ></ion-skeleton-text>
      </div>
      <div class="mb-3">
        <ion-skeleton-text
          [animated]="true"
          class="h-5 w-1/3"
        ></ion-skeleton-text>
      </div>
    </div>
    <div class="mb-6">
      <div class="mb-3">
        <ion-skeleton-text
          [animated]="true"
          class="h-5 w-1/3"
        ></ion-skeleton-text>
      </div>
      <div>
        <ion-skeleton-text
          [animated]="true"
          class="h-20 w-full"
        ></ion-skeleton-text>
      </div>
    </div>

    <div class="mb-6">
      <div class="mb-3">
        <ion-skeleton-text
          [animated]="true"
          class="h-5 w-1/3"
        ></ion-skeleton-text>
      </div>
      <div>
        <ion-skeleton-text
          [animated]="true"
          class="h-24 w-full"
        ></ion-skeleton-text>
      </div>
    </div>

    <div
      class="text-900 grid grid-cols-2 gap-x-10 flex justify-between font-semibold"
    >
      <ion-skeleton-text
        [animated]="true"
        class="h-14 w-full"
      ></ion-skeleton-text>
      <ion-skeleton-text
        [animated]="true"
        class="h-14 w-full"
      ></ion-skeleton-text>
    </div>
  </ng-container>
  <ng-template #dataTpl>
    <ng-container *ngIf="job$ | async as job else noDataTpl">
      <div class="mb-6">
        <div class="text-[32px] font-bold text-900 mb-3">{{job.posisi}}</div>
        <div class="flex">
          <img
            class="h-16 w-16 mr-4 object-contain"
            [src]="job.iconPerusahaan || '/images/alert-dialog.png'"
            alt=""
          />
          <div class="detail">
            <div class="text-h5 font-bold text-900 mb-2">{{job.company}}</div>
            <div class="text-[18px] text-600 mb-3">
              {{job.locationPlacement}}
            </div>
          </div>
        </div>
        <div class="text-body-3 text-500 mb-3">
          {{job.createdOn | date:'dd MMM YYYY'}}
        </div>
      </div>
      <div class="mb-6">
        <div class="text-900 font-bold mb-1">Deskripsi Pekerjaan</div>
        <div class="text-900" [innerHTML]="job.jobDescription || '-'"></div>
      </div>

      <!-- <div class="mb-6">
        <div class="text-900 font-bold mb-1">Kualifikasi</div>
        <div class="text-900" [innerHTML]="'-'"></div>
      </div> -->

      <!-- <div
        class="text-900 grid grid-cols-1 md:grid-cols-2 md:gap-x-10 flex justify-between font-semibold"
      >
        <div class="md-max:order-2">
          Kirim Lamaran ke:
          <br />
          <span class="cursor-pointer" (click)="handleNavigateToGmail()">
            career@acc.co.id</span
          >
        </div>

        <div
          class="mt-1 md:mt-0 md:text-right mb-5"
          *ngIf="!job?.linkWebCareer"
        >
          Instagram
          <br />
          <div
            class="cursor-pointer text-lazuli-400"
            (click)="handleNavigateToInstagram('https://www.instagram.com/lensacc/')"
          >
            https://www.instagram.com/lensacc/
          </div>
        </div>
        <div class="mt-1 md:mt-0 md:text-right mb-5" *ngIf="job?.linkWebCareer">
          Kunjungi
          <br />
          <div
            class="cursor-pointer text-lazuli-400"
            (click)="handleNavigateToInstagram(job?.linkWebCareer)"
          >
            {{job?.linkWebCareer}}
          </div>
        </div>
      </div> -->
    </ng-container>
  </ng-template>

  <ng-template #noDataTpl>
    <div class="md:hidden">
      <div class="mb-5 mt-10">
        <div class="text-center">
          <img
            src="images/news-not-found.png"
            class="mb-8 w-[180px] h-[152px] mx-auto"
            alt=""
          />
          <div class="text-h5 text-800 font-semibold mb-1.5">
            Detail Data Tidak Ditemukan
          </div>
          <div class="text-body2 text-700">
            Silakan coba lagi atau kembali lagi nanti.
          </div>
        </div>
      </div>
    </div>

    <div
      class="hidden md:flex justify-center items-center overflow-hidden container-box-shadow rounded-[24px] bg-white min-h-[494px]"
    >
      <div class="text-center">
        <img
          src="images/news-not-found.png"
          class="mb-8 w-[180px] h-[152px] mx-auto"
          alt=""
        />
        <div class="text-h3 text-800 font-semibold mb-1.5">
          Detail Data Tidak Ditemukan
        </div>
        <div class="text-h4 text-700 font-normal">
          Silakan coba lagi atau kembali lagi nanti.
        </div>
      </div>
    </div>
  </ng-template>
</section>
