<!-- <ion-header class="ion-background-white ion-no-border">
  <common-header-component
    *ngIf="screenSizeService.isDesktopResolution()"
  ></common-header-component>
  <profile-header-component
    [onBack]="handleBack"
    *ngIf="!screenSizeService.isDesktopResolution()"
    [headerTitle]="'Ruang Pensiun'"
  ></profile-header-component>
</ion-header> -->

<!-- <ion-content class="ion-background-white relative"> -->
<!-- <div class="flex md:hidden items-center text-center pt-16">
    <div class="flex-1 py-2 border-b-2 border-lazuli-400">Berita</div>
    <div class="flex-1 py-2 border-b-2 border-neutral-400">Astramagz</div>
  </div> -->
<section>
  <div class="md:container md:px-auto z-10 relative md:pt-16">
    <div>
      <div class="hidden md:flex justify-between items-center mb-8">
        <div>
          <div class="text-h2 text-800 mb-1.5">Ruang Pensiun</div>
          <div class="text-[24px] text-700">
            Temukan banyak topik diskusi dan pembahasan yang menarik.
          </div>
        </div>
      </div>

      <div
        class="flex flex-col md:flex-row md:justify-between md:items-center mt-4 md:mt-0 px-6 md-max:!px-4 md:px-0 mb-4 md-max:flex-col-reverse"
      >
        <div *ngIf="isPensiunan">
          <div
            class="md-max:w-full md-max:mt-6"
            *ngIf="((pageService.pageType$ | async) === pageTypeEnum.PUBLIC || ((pageService.pageType$ | async) === pageTypeEnum.PERSONAL))"
          >
            <ion-searchbar
              [ngModel]="pageService.keyword$ | async"
              (ionInput)="pageService.handleChangeKeyword($event)"
              (ionCancel)="pageService.handleChangeKeyword($event)"
              (ionClear)="pageService.handleChangeKeyword($event)"
              [debounce]="500"
              class="searchbar-input ion-background-white w-full md:w-96 rounded-input ion-no-box-shadow border border-neutral-400 p-0 rounded-xl text-neutral-800"
              placeholder="Cari topik yang kamu inginkan"
            ></ion-searchbar>
          </div>
        </div>
        <div *ngIf="!isPensiunan">
          <div
            class="md-max:w-full md-max:mt-6"
            *ngIf="((pageService.pageType$ | async) === pageTypeEnum.PUBLIC)"
          >
            <ion-searchbar
              [ngModel]="pageService.keyword$ | async"
              (ionInput)="pageService.handleChangeKeyword($event)"
              (ionCancel)="pageService.handleChangeKeyword($event)"
              (ionClear)="pageService.handleChangeKeyword($event)"
              [debounce]="500"
              class="searchbar-input ion-background-white w-full md:w-96 rounded-input ion-no-box-shadow border border-neutral-400 p-0 rounded-xl text-neutral-800"
              placeholder="Cari topik yang kamu inginkan"
            ></ion-searchbar>
          </div>
        </div>

        <div
          class="flex md:rounded-xl md:shadow-xl overflow-hidden items-stretch justify-center"
        >
          <div
            class="cursor-pointer md-max:w-1/2  md-max:font-semibold md-max:text-sm md-max:text-center text-900 py-4 px-8 {{(pageService.pageType$ | async) === pageTypeEnum.PUBLIC ? 'border-b-2 border-lazuli-400 md-max:text-lazuli-400' : 'border-b-2 border-neutral-500 md-max:text-700'}}"
            (click)="changePageService(pageTypeEnum.PUBLIC)"
          >
            Ruang Untukmu
          </div>

          <div
            *ngIf="isPensiunan"
            class="border-r border-neutral-400 h-auto md-max:hidden"
          ></div>
          <div
            *ngIf="isPensiunan"
            [ngClass]="{'disabled-content': !showKontenSaya}"
            class="cursor-pointer md-max:w-1/2 md-max:font-semibold md-max:text-sm md-max:text-center text-900 py-4 px-8  {{(pageService.pageType$ | async) === pageTypeEnum.PERSONAL ? 'border-b-2 border-lazuli-400 md-max:text-lazuli-400' : 'border-b-2 border-neutral-500 md-max:text-700'}}"
            (click)="changePageService(pageTypeEnum.PERSONAL)"
          >
            Konten Saya
          </div>
        </div>
      </div>

      <div
        class="grid grid-cols-7 gap-7 md-max:flex md-max:flex-col md-max:gap-0 md-max:px-4"
      >
        <div
          class="col-span-2 sm-max:w-full"
          *ngIf="!screenSizeService.isMobileResolution()"
        >
          <div
            class="bg-white md:shadow md:rounded-xl py-10 px-8 md-max:py-4 md-max:pt-0 md-max:px-0 md-max:flex md-max:justify-between md-max:gap-3"
          >
            <div class="data-container">
              <div class="button-pilihan">
                <div
                  class="flex items-center space-x-3 cursor-pointer mb-10 md-max:mb-0 md-max:flex md-max:flex-col md-max:w-1/3 md-max:shadow-lg md-max:rounded-xl md-max:justify-center md-max:flex-1 md-max:h-36 md-max:p-2"
                  (click)="handleNavigateHome()"
                >
                  <img src="logos/main-button-1.png" class="w-9 h-9" alt="" />
                  <span
                    class="text-heading-5 leading-heading-5 font-semibold text-900 md-max:text-body-3 md-max:!ml-0 md-max:text-center"
                    >Ruang Pensiun</span
                  >
                </div>
                <div
                  class="flex items-center space-x-3 cursor-pointer mb-10 md-max:mb-0 md-max:flex md-max:flex-col md-max:w-1/3 md-max:shadow-lg md-max:rounded-xl md-max:justify-center md-max:flex-1 md-max:h-36 md-max:p-2"
                  (click)="handleNavigate('activity')"
                >
                  <img
                    src="logos/retired-activity.png"
                    class="w-9 h-9"
                    alt=""
                  />
                  <span
                    class="text-heading-5 leading-heading-5 font-semibold text-900 md-max:text-body-3 md-max:!ml-0 md-max:text-center"
                    >Aktivitas Pensiun</span
                  >
                </div>
                <div
                  class="flex items-center space-x-3 cursor-pointer mb-10 md-max:mb-0 md-max:flex md-max:flex-col md-max:w-1/3 md-max:shadow-lg md-max:rounded-xl md-max:justify-center md-max:flex-1 md-max:h-36 md-max:p-2"
                  (click)="handleNavigate('transaction')"
                >
                  <img src="logos/price-tag.png" class="w-9 h-9" alt="" />
                  <span
                    class="text-heading-5 leading-heading-5 font-semibold text-900 md-max:text-body-3 md-max:!ml-0 md-max:text-center"
                    >Jual Beli</span
                  >
                </div>

                <div
                  *ngIf="isShowCariTeman"
                  class="flex items-center space-x-3 cursor-pointer mb-10 md-max:mb-0 md-max:flex md-max:flex-col md-max:w-1/3 md-max:shadow-lg md-max:rounded-xl md-max:justify-center md-max:flex-1 md-max:h-36 md-max:p-2"
                  (click)="handleNavigate('friend')"
                >
                  <img src="logos/user-add.png" class="w-9 h-9" alt="" />
                  <span
                    class="text-heading-5 leading-heading-5 font-semibold text-900 md-max:text-body-3 md-max:!ml-0 md-max:text-center"
                    >Cari Teman</span
                  >
                </div>
                <div *ngFor="let item of listCategory">
                  <div
                    *ngIf="item.judulKategori != 'Jual Beli' && item.judulKategori != 'Aktifitas Pensiun' && item.judulKategori != 'Aktivitas Pensiun'"
                    class="flex items-center space-x-3 cursor-pointer mb-10 md-max:mb-0 md-max:flex md-max:flex-col md-max:w-1/3 md-max:shadow-lg md-max:rounded-xl md-max:justify-center md-max:flex-1 md-max:h-36 md-max:p-2"
                    (click)="handleNavigate(item.templateRuangPensiun, item.judulKategori, item.idKategori)"
                  >
                    <img
                      src="{{item.iconKategori}}"
                      class="w-9 h-9 rounded-2xl object-cover"
                      alt=""
                    />
                    <span
                      class="text-heading-5 leading-heading-5 font-semibold text-900 md-max:text-body-3 md-max:!ml-0 md-max:text-center"
                      >{{item.judulKategori}}</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <!-- <div
                class="flex items-center space-x-3 cursor-pointer md-max:mb-0 md-max:flex md-max:flex-col md-max:w-1/3 md-max:shadow-lg md-max:rounded-xl md-max:justify-center md-max:flex-1 md-max:h-36 md-max:p-2"
                (click)="handleNavigate('category')"
              >
                <img src="logos/category.png" class="w-9 h-9" alt="" />
                <span
                  class="text-heading-5 leading-heading-5 font-semibold text-900 md-max:text-body-3 md-max:!ml-0 md-max:text-center"
                  >Kategori Lainnya</span
                >
              </div> -->
          </div>
        </div>

        <div
          class="sm:mb-20 px-1 md:px-0 mb-2"
          *ngIf="((pageService.pageType$ | async) === pageTypeEnum.PUBLIC) && screenSizeService.isMobileResolution()"
        >
          <swiper
            #promoSlides
            [slidesPerView]="4"
            [spaceBetween]="16"
            [slidesOffsetAfter]="1"
            [slidesOffsetBefore]="1"
            class="w-full items-center"
          >
            <ng-template swiperSlide>
              <div
                class="text-center items-center"
                (click)="handleNavigateHome()"
              >
                <div
                  class="rounded-full w-[40px] h-[40px] md:w-[100px] md:h-[100px] mx-auto bg-lazuli-50 mb-4"
                >
                  <img
                    src="logos/main-button-1.png"
                    class="w-full h-full mx-auto"
                    alt=""
                  />
                </div>
                <div class="text-800 text-body1 md:text-h5">Ruang Pensiun</div>
              </div>
            </ng-template>
            <ng-template swiperSlide>
              <div
                class="text-center items-center"
                (click)="handleNavigate('activity')"
              >
                <div
                  class="rounded-full w-[40px] h-[40px] md:w-[100px] md:h-[100px] mx-auto bg-lazuli-50 mb-4"
                >
                  <img
                    src="logos/retired-activity.png"
                    class="w-full h-full mx-auto"
                    alt=""
                  />
                </div>
                <div class="text-800 text-body1 md:text-h5">
                  Aktivitas Pensiun
                </div>
              </div>
            </ng-template>
            <ng-template swiperSlide>
              <div
                class="text-center items-center"
                (click)="handleNavigate('transaction')"
              >
                <div
                  class="rounded-full w-[40px] h-[40px] md:w-[100px] md:h-[100px] mx-auto bg-lazuli-50 mb-4"
                >
                  <img
                    src="logos/price-tag.png"
                    class="w-full h-full mx-auto"
                    alt=""
                  />
                </div>
                <div class="text-800 text-body1 md:text-h5">Jual Beli</div>
              </div>
            </ng-template>
            <ng-template swiperSlide *ngIf="isShowCariTeman">
              <div
                class="text-center items-center"
                (click)="handleNavigate('friend')"
              >
                <div
                  class="rounded-full w-[40px] h-[40px] md:w-[100px] md:h-[100px] mx-auto bg-lazuli-50 mb-4"
                >
                  <img
                    src="logos/user-add.png"
                    class="w-full h-full mx-auto"
                    alt=""
                  />
                </div>
                <div class="text-800 text-body1 md:text-h5">Cari Teman</div>
              </div>
            </ng-template>
            <ng-template swiperSlide>
              <div
                class="text-center items-center"
                (click)="handleNavigate('category')"
              >
                <div
                  class="rounded-full w-[40px] h-[40px] md:w-[100px] md:h-[100px] mx-auto bg-lazuli-50 mb-4"
                >
                  <img
                    src="logos/category.png"
                    class="w-full h-full mx-auto"
                    alt=""
                  />
                </div>
                <div class="text-800 text-body1 md:text-h5">
                  Kategori Lainnya
                </div>
              </div>
            </ng-template>
          </swiper>
        </div>

        <div class="col-span-5">
          <div class="">
            <div
              *ngIf="(noPeserta$ | async) && (pageService.page$ | async) !== 'friend' && isPensiunan && showIndexContent"
              class="mb-8 flex space-x-4 justify-between"
            >
              <app-common-button-component
                color="blank"
                *ngIf="pageActive == 'pensiun' && isPensiunan"
                class="rounded-4xl bg-neutral-100 ion-no-padding p-4 w-full h-[55px] text-h4 text-lazuli-300 font-bold"
                (onClick)="checkCategoryPensiunFirst()"
              >
                <div class="flex space-x-1 justify-center items-center">
                  <app-common-icon-component
                    nativeClass="w-6 h-6 text-lazuli-300"
                    name="edit-6"
                  />
                  <span>Buat Postingan</span>
                </div>
              </app-common-button-component>

              <!-- <ion-button
                  color="blank"
                  style="height: 70px"
                  *ngIf="pageActive == 'activity' && screenSizeService.isDesktopResolution()"
                  class="rounded-4xl bg-neutral-100 ion-no-padding p-6 w-full text-h3 text-lazuli-300 font-bold"
                  (click)="handleOpenPostinganModal(null, [])"
                >
                  <div class="flex space-x-1 justify-center items-center">
                    <app-common-icon-component
                      nativeClass="w-8 h-8 text-lazuli-300"
                      name="edit-6"
                    />
                    <span>Buat Postingan</span>
                  </div>
                </ion-button> -->

              <app-common-button-component
                color="blank"
                *ngIf="pageActive == 'pensiun' && isPensiunan"
                class="rounded-4xl bg-neutral-100 ion-no-padding p-4 w-full h-[55px] text-h4 text-lazuli-300 font-bold"
                (onClick)="checkCategoryJualBeliFirst()"
              >
                <div class="flex space-x-1 justify-center items-center">
                  <app-common-icon-component
                    nativeClass="w-6 h-6 text-lazuli-300"
                    name="label-tag-1"
                  />
                  <span> Jual Barang</span>
                </div>
              </app-common-button-component>

              <!-- <ion-button
                  color="blank"
                  style="height: 70px"
                  *ngIf="pageActive == 'transaction' && screenSizeService.isDesktopResolution()"
                  class="rounded-4xl bg-neutral-100 ion-no-padding p-6 w-full text-h3 text-lazuli-300 font-bold"
                  (click)="handleOpenJualBeliModal(null, [])"
                >
                  <div class="flex space-x-1 justify-center items-center">
                    <app-common-icon-component
                      nativeClass="w-8 h-8 text-lazuli-300"
                      name="edit-6"
                    />
                    <span>Jual Barang</span>
                  </div>
                </ion-button> -->
            </div>

            <ng-template #featureNotAvailableTpl>
              <div
                class="flex items-center justify-center my-14"
                *ngIf="isMainRoute()"
              >
                <app-common-feature-not-available-component />
              </div>
            </ng-template>

            <div *ngIf="showIndexContent">
              <div class="text-h3 text-900 mb-8">
                {{(pageService.pageType$ | async) === pageTypeEnum.PUBLIC ?
                'Ruang Untukmu':'Konten Saya'}}
              </div>

              <app-ruang-pensiun-list-container
                [pageTypeSelected]="pageTypeSelected"
                [listCategory]="listCategory"
                class="transition-all duration-300"
              ></app-ruang-pensiun-list-container>
              <!-- <div
                *ngIf="((pageService.pageType$ | async) === pageTypeEnum.PUBLIC || ((pageService.pageType$ | async) === pageTypeEnum.PERSONAL)) && isPensiunan else featureNotAvailableTpl"
              >
                <div class="hidden sm:block">
                  <ng-container
                    *ngFor="let item of allKonten$ | async; let last = last"
                  >
                    <div *ngIf="item.templateRuangPensiun == 'JUAL-BELI'">
                      <div class="flex items-center mb-2">
                        <div
                          class="h-[52px] w-[52px] flex items-center justify-center bg-havertz-400 text-white rounded-4xl mr-2"
                        >
                          {{ decryptUser(item.namaUser)?.toUpperCase() |
                          nickName }}
                        </div>
                        <span class="flex-1 text-h7 text-900">
                          {{ decryptUser(item.namaUser) || 'Tidak ada nama user'
                          | shorten:25}}</span
                        >
                        <div class="float-right">
                          <div
                            class="text-h6 text-[13px] text-600 mb-1"
                            *ngIf="!isPensiunAccount"
                          >
                            Jual Beli
                          </div>
                          <div
                            *ngIf="(pageService.pageType$ | async) === pageTypeEnum.PERSONAL"
                            class="text-h7 text-[13px] {{item.statusApproval | statusApprovalEnum:'textColor'}} text-right"
                          >
                            {{item.statusApproval | statusApprovalEnum:'text'}}
                          </div>
                        </div>
                      </div>
                      <div class="mb-2 relative rounded-4xl overflow-hidden">
                        <ion-img
                          *ngIf="item.gambar && item.gambar != ''"
                          [src]="item.gambar"
                          (click)="openImage(item.gambar)"
                          class="h-[140px] w-full object-cover object-center overflow-hidden"
                          alt="News Image"
                        ></ion-img>

                        <div
                          *ngIf="!item.gambar || item.gambar == ''"
                          class="mb-8 rounded-xl bg-neutral-600 h-[140px] rounded-xl w-full text-neutral-700 flex items-center justify-center text-h3"
                        >
                          No Thumbnail
                        </div>
                      </div>
                      <div class="flex space-x-10">
                        <div class="flex-1">
                          <div class="mb-2">
                            <div class="flex item-center mb-2">
                              <span class="flex-1 text-h6 text-[14px] text-500">
                                {{item.createdOn | date:'dd MMMM YYYY'}}</span
                              >
                              <div class="float-right">
                                <div class="flex-1 flex space-x-2 items-center">
                                  <app-common-icon-component
                                    (click)="handleLikeContent(item, 'jualBeliRuangPensiun')"
                                    nativeClass="w-8 h-8 {{ item.isLike === 1 ? 'text-lazuli-500' : 'text-neutral-200'}}"
                                    name="heart-filled"
                                  />
                                  <span class="text-h6 text-700"
                                    >{{item.jumlahLike}} Suka</span
                                  >
                                </div>
                              </div>
                            </div>

                            <div class="text-h5 text-900">
                              {{item?.judulThread && item?.judulThread != 'null'
                              ? item?.judulThread:'Tidak ada judul' |
                              shorten:23}}
                            </div>
                            <div class="flex items-center">
                              <div
                                class="flex-1 text-h7 text-900"
                                *ngIf="item.hargaBarang"
                              >
                                <span
                                  >{{ item.hargaBarang |
                                  currency:'IDR':'symbol-narrow'}}</span
                                >
                              </div>
                              <div class="float-right">
                                <app-common-button-component
                                  color="blank"
                                  class="float-right ion-no-padding p-0 m-0 text-h6 text-lazuli-500 font-bold"
                                  (onClick)="handleNavigateToDetail(item)"
                                >
                                  Lihat Detail
                                </app-common-button-component>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div *ngIf="item.templateRuangPensiun == 'AKTIVITAS-PENSIUN'">
                      <div class="flex items-center mb-6">
                        <div
                          class="h-[52px] w-[52px] flex items-center justify-center bg-havertz-400 text-white rounded-4xl mr-2"
                        >
                          {{ decryptUser(item.namaUser)?.toUpperCase() |
                          nickName }}
                        </div>
                        <span class="flex-1 text-h5 text-900"
                          >{{ decryptUser(item.namaUser) || 'Tidak ada nama
                          user' | shorten:25}}</span
                        >
                        <div class="float-right">
                          <div class="text-h6 text-[13px] text-600 mb-1">
                            Ruang Pensiun
                          </div>
                          <div
                            *ngIf="(pageService.pageType$ | async) === pageTypeEnum.PERSONAL"
                            class="text-h6 {{item.statusApproval | statusApprovalEnum:'textColor'}} text-right"
                          >
                            {{item.statusApproval | statusApprovalEnum:'text'}}
                          </div>
                        </div>
                      </div>
                      <div class="flex space-x-20">
                        <div class="flex-1">
                          <div class="mb-8">
                            <div class="text-h3 text-900 mb-3">
                              {{item?.judulThread || 'Tidak ada judul' |
                              shorten:35}}
                            </div>
                            <div class="flex space-x-2">
                              <span class="text-h5 text-500">
                                {{item.createdOn | date:'dd MMMM YYYY'}}</span
                              >
                            </div>
                          </div>
                          <div class="flex item-center">
                            <div class="flex-1 flex space-x-2 items-center">
                              <app-common-icon-component
                                (click)="handleLikeContent(item, 'postinganRuangPensiun')"
                                nativeClass="w-8 h-8 {{ item.isLike === 1 ? 'text-lazuli-500' : 'text-neutral-200'}}"
                                name="heart-filled"
                              />
                              <span class="text-h5 text-700"
                                >{{item.jumlahLike}} Suka</span
                              >
                            </div>

                            <app-common-button-component
                              color="blank"
                              class="float-right ion-no-padding p-0 m-0 text-h5 text-lazuli-500 font-bold"
                              (onClick)="handleNavigateToDetail(item)"
                            >
                              Lihat Detail
                            </app-common-button-component>
                          </div>
                        </div>
                        <div class="float-right">
                          <img
                            *ngIf="item?.gambar && item.gambar != ''"
                            [src]="item?.gambar"
                            (click)="openImage(item?.gambar)"
                            class="w-[150px] h-[150px] rounded-4xl"
                            alt=""
                          />

                          <div
                            *ngIf="!item?.gambar || item.gambar == ''"
                            class="mb-8 rounded-xl bg-neutral-600 h-[150px] rounded-xl w-full text-neutral-700 flex items-center justify-center text-h3"
                          >
                            No Thumbnail
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr
                      *ngIf="!last"
                      class="my-8 border-b border-neutral-200"
                    />
                  </ng-container>

                  <ng-container *ngIf="pagination$ | async as pagination">
                    <div
                      class="flex justify-center"
                      *ngIf="screenSizeService.isDesktopResolution()"
                    >
                      <app-common-pagination-component
                        [pagination]="pagination"
                        (onClick)="handlePageChange($event)"
                      ></app-common-pagination-component>
                    </div>
                  </ng-container>
                </div>

                <div class="sm:hidden">
                  <ng-container
                    *ngFor="let item of allKonten$ | async; let last = last"
                  >
                    <div *ngIf="item.templateRuangPensiun == 'JUAL-BELI'">
                      <div
                        class="flex items-center mb-2"
                        (click)="handleNavigateToDetail(item)"
                      >
                        <div
                          class="h-[52px] w-[52px] flex items-center justify-center bg-havertz-400 text-white rounded-4xl mr-2"
                        >
                          {{ decryptUser(item.namaUser)?.toUpperCase() |
                          nickName }}
                        </div>
                        <span class="flex-1 text-h7 text-900"
                          >{{ decryptUser(item.namaUser) || 'Tidak ada nama
                          user' | shorten:23}}</span
                        >
                        <div class="float-right">
                          <div class="text-h6 text-[13px] text-600 mb-1">
                            Jual Beli
                          </div>
                          <div
                            *ngIf="(pageService.pageType$ | async) === pageTypeEnum.PERSONAL"
                            class="text-h7 text-[13px] {{item.statusApproval | statusApprovalEnum:'textColor'}} text-right"
                          >
                            {{item.statusApproval | statusApprovalEnum:'text'}}
                          </div>
                        </div>
                      </div>
                      <div class="mb-2 relative rounded-4xl overflow-hidden">
                        <ion-img
                          *ngIf="item.gambar && item.gambar != ''"
                          [src]="item.gambar"
                          (click)="openImage(item.gambar)"
                          class="h-[140px] w-full object-cover object-center overflow-hidden"
                          alt="News Image"
                        ></ion-img>

                        <div
                          *ngIf="!item.gambar || item.gambar == ''"
                          class="mb-8 rounded-xl bg-neutral-600 h-[140px] rounded-xl w-full text-neutral-700 flex items-center justify-center text-h3"
                        >
                          No Thumbnail
                        </div>
                      </div>
                      <div class="flex space-x-10">
                        <div class="flex-1">
                          <div class="mb-2">
                            <div class="flex item-center mb-2">
                              <span class="flex-1 text-h6 text-[14px] text-500">
                                {{item.createdOn | date:'dd MMMM YYYY'}}</span
                              >
                              <div class="float-right">
                                <div class="flex-1 flex space-x-2 items-center">
                                  <app-common-icon-component
                                    (click)="handleLikeContent(item, 'jualBeliRuangPensiun')"
                                    nativeClass="w-8 h-8 {{ item.isLike === 1 ? 'text-lazuli-500' : 'text-neutral-200'}}"
                                    name="heart-filled"
                                  />
                                  <span class="text-h6 text-700"
                                    >{{item.jumlahLike}} Suka</span
                                  >
                                </div>
                              </div>
                            </div>

                            <div class="text-h5 text-900">
                              {{item?.judulThread || 'Tidak ada judul' |
                              shorten: 23}}
                            </div>
                            <div class="flex items-center">
                              <div
                                class="flex-1 text-[15px] text-900"
                                *ngIf="item.hargaBarang"
                              >
                                <span
                                  ><b
                                    >{{ item.hargaBarang |
                                    currency:'IDR':'symbol-narrow'}}</b
                                  ></span
                                >
                              </div>
                              <div class="float-right">
                                <app-common-button-component
                                  color="blank"
                                  class="float-right ion-no-padding p-0 m-0 text-h6 text-lazuli-500 font-bold"
                                  (onClick)="handleNavigateToDetail(item)"
                                >
                                  Lihat Detail
                                </app-common-button-component>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div *ngIf="item.templateRuangPensiun == 'AKTIVITAS-PENSIUN'" class="p-1 bg-white w-full">
                      <div class="flex">
                        <ion-img
                          *ngIf="item?.gambar && item.gambar != ''"
                          [src]="item?.gambar"
                          (click)="openImage(item?.gambar)"
                          class="h-24 w-32 rounded-3xl object-cover object-center overflow-hidden"
                          alt="item Image"
                        ></ion-img>

                        <div
                          *ngIf="!item?.gambar || item.gambar == ''"
                          class="h-24 w-32 rounded-3xl bg-neutral-800 text-neutral-900 flex items-center justify-center text-body3"
                        >
                          No Thumbnail
                        </div>

                        <div class="flex-shrink-1 w-full ml-3">
                          <div
                            class="text-body1 text-800 font-semibold mb-1 truncated-title"
                          >
                            {{item?.judulThread || 'Tidak ada judul' | shorten:
                            17}}

                            <div class="float-right space-x-2">
                              <div class="text-[12px] text-600">
                                Ruang Pensiun
                              </div>
                              <div
                                *ngIf="(pageService.pageType$ | async) === pageTypeEnum.PERSONAL"
                                class="text-[12px] {{item.statusApproval | statusApprovalEnum:'textColor'}} text-right"
                              >
                                {{item.statusApproval |
                                statusApprovalEnum:'text'}}
                              </div>
                            </div>
                          </div>

                          <div
                            class="text-body3 text-500 items-center space-x-2"
                          >
                            <div class="inline">
                              {{ decryptUser(item.namaUser) || 'Tidak ada nama
                              user' | shorten:25}}
                            </div>
                            <div class="float-right space-x-2">
                              <div class="text-[12px] text-600">
                                {{item.createdOn | date:'dd MMMM YYYY'}}
                              </div>
                            </div>
                          </div>

                          <div class="flex item-center mt-7">
                            <div class="flex-1 flex space-x-2 items-center">
                              <app-common-icon-component
                                (click)="handleLikeContent(item, 'postinganRuangPensiun')"
                                nativeClass="w-5 h-5 {{ item.isLike === 1 ? 'text-lazuli-500' : 'text-neutral-200'}}"
                                name="heart-filled"
                              />
                              <span class="text-[12px] text-700"
                                >{{item.jumlahLike}} Suka</span
                              >
                            </div>

                            <app-common-button-component
                              color="blank"
                              class="float-right ion-no-padding p-0 m-0 text-[12px] text-lazuli-500 font-bold"
                              (onClick)="handleNavigateToDetail(item)"
                            >
                              Lihat Detail
                            </app-common-button-component>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr
                      *ngIf="!last"
                      class="my-8 border-b border-neutral-200"
                    />
                    <div
                      class="target children-scroll"
                      id="targetScrollPos"
                      #targetScrollPos
                    ></div>
                  </ng-container>
                  
                  <ng-container *ngIf="pagination$ | async as pagination">
                    <div class="flex justify-center">
                      <ion-infinite-scroll (ionInfinite)="loadData($event, pagination)">
                        <ion-infinite-scroll-content loadingText="Mohon tunggu..." loadingSpinner="circles">
                        </ion-infinite-scroll-content>
                      </ion-infinite-scroll>
                    </div>
                  </ng-container>
                </div>
              </div> -->
            </div>

            <div>
              <router-outlet></router-outlet>
            </div>

            <!-- Changed -->

            <!-- <div
              *ngIf="((pageService.pageType$ | async) === pageTypeEnum.PUBLIC || ((pageService.pageType$ | async) === pageTypeEnum.PERSONAL)) && !(allKonten$ | async) && isPensiunan && showIndexContent && !isLoading"
            >
              <div class="sm:hidden">
                <div class="mb-5 mt-10">
                  <div class="text-center">
                    <img
                      src="images/news-not-found.png"
                      class="mb-8 w-[180px] h-[152px] mx-auto"
                      alt=""
                    />
                    <div class="text-h5 text-800 font-semibold mb-1.5">
                      Hasil Pencarian Tidak Ditemukan
                    </div>
                    <div class="text-body2 text-700">
                      Silakan coba lagi atau kembali lagi nanti.
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="hidden sm:flex justify-center items-center overflow-hidden container-box-shadow rounded-[24px] bg-white min-h-[494px]"
              >
                <div class="text-center">
                  <img
                    src="images/news-not-found.png"
                    class="mb-8 w-[180px] h-[152px] mx-auto"
                    alt=""
                  />
                  <div class="text-h3 text-800 font-semibold mb-1.5">
                    Hasil Pencarian Tidak Ditemukan
                  </div>
                  <div class="text-h4 text-700 font-normal">
                    Silakan coba lagi atau kembali lagi nanti.
                  </div>
                </div>
              </div>
            </div>

            <div class="overflow-hidden flex space-x-4" *ngIf="isLoading">
              <ng-container>
                <div class="flex-1">
                  <div class="mb-1">
                    <ion-skeleton-text
                      [animated]="true"
                      class="h-10 w-full"
                    ></ion-skeleton-text>
                  </div>
                  <div class="mb-1.5">
                    <ion-skeleton-text
                      [animated]="true"
                      class="h-8 w-full"
                    ></ion-skeleton-text>
                  </div>
                  <div>
                    <ion-skeleton-text
                      [animated]="true"
                      class="w-3/4 h-4"
                    ></ion-skeleton-text>
                  </div>
                </div>

                <div class="flex-shrink-0">
                  <ion-skeleton-text
                    [animated]="true"
                    class="h-24 w-24 rounded-3xl"
                  ></ion-skeleton-text>
                </div>
              </ng-container>
            </div> -->
          </div>
        </div>
      </div>
    </div>

    <!-- <hr class="my-10 hidden md:block" />
        <common-footer-component *ngIf="screenSizeService.isDesktopResolution()"></common-footer-component> -->
    <!-- <wa-floating-button></wa-floating-button> -->
  </div>
  <!-- </ion-content> -->
</section>
